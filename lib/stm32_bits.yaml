---
# GPIO Registers

- !register
  name: GPIO_MODER
  comment: GPIO port mode register (GPIOx_MODER) (x = A..F)
  bits:
  - !bitset {name: MODER0,  mask: [1, 0] }
  - !bitset {name: MODER1,  mask: [3, 2] }
  - !bitset {name: MODER2,  mask: [5, 4] }
  - !bitset {name: MODER3,  mask: [7, 6] }
  - !bitset {name: MODER4,  mask: [9, 8] }
  - !bitset {name: MODER5,  mask: [11, 10] }
  - !bitset {name: MODER6,  mask: [13, 12] }
  - !bitset {name: MODER7,  mask: [15, 14] }
  - !bitset {name: MODER8,  mask: [17, 16] }
  - !bitset {name: MODER9,  mask: [19, 18] }
  - !bitset {name: MODER10, mask: [21, 20] }
  - !bitset {name: MODER11, mask: [23, 22] }
  - !bitset {name: MODER12, mask: [25, 24] }
  - !bitset {name: MODER13, mask: [27, 26] }
  - !bitset {name: MODER14, mask: [29, 28] }
  - !bitset {name: MODER15, mask: [31, 30] }

- !register
  name: GPIO_OTYPER
  comment: GPIO port output type register (GPIOx_OTYPER) (x = A..F)
  bits:
    - !bitset {name: OT0,  mask: [0] }
    - !bitset {name: OT1,  mask: [1] }
    - !bitset {name: OT2,  mask: [2] }
    - !bitset {name: OT3,  mask: [3] }
    - !bitset {name: OT4,  mask: [4] }
    - !bitset {name: OT5,  mask: [5] }
    - !bitset {name: OT6,  mask: [6] }
    - !bitset {name: OT7,  mask: [7] }
    - !bitset {name: OT8,  mask: [8] }
    - !bitset {name: OT9,  mask: [9] }
    - !bitset {name: OT10, mask: [10] }
    - !bitset {name: OT11, mask: [11] }
    - !bitset {name: OT12, mask: [12] }
    - !bitset {name: OT13, mask: [13] }
    - !bitset {name: OT14, mask: [14] }
    - !bitset {name: OT15, mask: [15] }

- !register
  name: GPIO_OSPEEDR
  comment: GPIO port output speed register (GPIOx_OSPEEDR) (x = A..F)
  bits:
  - !bitset {name: OSPEEDR0,  mask: [1, 0] }
  - !bitset {name: OSPEEDR1,  mask: [3, 2] }
  - !bitset {name: OSPEEDR2,  mask: [5, 4] }
  - !bitset {name: OSPEEDR3,  mask: [7, 6] }
  - !bitset {name: OSPEEDR4,  mask: [9, 8] }
  - !bitset {name: OSPEEDR5,  mask: [11, 10] }
  - !bitset {name: OSPEEDR6,  mask: [13, 12] }
  - !bitset {name: OSPEEDR7,  mask: [15, 14] }
  - !bitset {name: OSPEEDR8,  mask: [17, 16] }
  - !bitset {name: OSPEEDR9,  mask: [19, 18] }
  - !bitset {name: OSPEEDR10, mask: [21, 20] }
  - !bitset {name: OSPEEDR11, mask: [23, 22] }
  - !bitset {name: OSPEEDR12, mask: [25, 24] }
  - !bitset {name: OSPEEDR13, mask: [27, 26] }
  - !bitset {name: OSPEEDR14, mask: [29, 28] }
  - !bitset {name: OSPEEDR15, mask: [31, 30] }

- !register
  name: GPIO_PUPDR
  comment: GPIO port pull-up/pull-down register (GPIOx_PUPDR) (x = A..F)
  bits:
  - !bitset {name: PUPDR0,  mask: [1, 0] }
  - !bitset {name: PUPDR1,  mask: [3, 2] }
  - !bitset {name: PUPDR2,  mask: [5, 4] }
  - !bitset {name: PUPDR3,  mask: [7, 6] }
  - !bitset {name: PUPDR4,  mask: [9, 8] }
  - !bitset {name: PUPDR5,  mask: [11, 10] }
  - !bitset {name: PUPDR6,  mask: [13, 12] }
  - !bitset {name: PUPDR7,  mask: [15, 14] }
  - !bitset {name: PUPDR8,  mask: [17, 16] }
  - !bitset {name: PUPDR9,  mask: [19, 18] }
  - !bitset {name: PUPDR10, mask: [21, 20] }
  - !bitset {name: PUPDR11, mask: [23, 22] }
  - !bitset {name: PUPDR12, mask: [25, 24] }
  - !bitset {name: PUPDR13, mask: [27, 26] }
  - !bitset {name: PUPDR14, mask: [29, 28] }
  - !bitset {name: PUPDR15, mask: [31, 30] }

- !register
  name: GPIO_IDR
  comment: GPIO port input data register (GPIOx_IDR) (x = A..F)
  bits:
    - !bitset {name: IDR0,  mask: [0] }
    - !bitset {name: IDR1,  mask: [1] }
    - !bitset {name: IDR2,  mask: [2] }
    - !bitset {name: IDR3,  mask: [3] }
    - !bitset {name: IDR4,  mask: [4] }
    - !bitset {name: IDR5,  mask: [5] }
    - !bitset {name: IDR6,  mask: [6] }
    - !bitset {name: IDR7,  mask: [7] }
    - !bitset {name: IDR8,  mask: [8] }
    - !bitset {name: IDR9,  mask: [9] }
    - !bitset {name: IDR10, mask: [10] }
    - !bitset {name: IDR11, mask: [11] }
    - !bitset {name: IDR12, mask: [12] }
    - !bitset {name: IDR13, mask: [13] }
    - !bitset {name: IDR14, mask: [14] }
    - !bitset {name: IDR15, mask: [15] }

- !register
  name: GPIO_ODR
  comment: GPIO port output data register (GPIOx_ODR) (x = A..F)
  bits:
    - !bitset {name: ODR0,  mask: [0] }
    - !bitset {name: ODR1,  mask: [1] }
    - !bitset {name: ODR2,  mask: [2] }
    - !bitset {name: ODR3,  mask: [3] }
    - !bitset {name: ODR4,  mask: [4] }
    - !bitset {name: ODR5,  mask: [5] }
    - !bitset {name: ODR6,  mask: [6] }
    - !bitset {name: ODR7,  mask: [7] }
    - !bitset {name: ODR8,  mask: [8] }
    - !bitset {name: ODR9,  mask: [9] }
    - !bitset {name: ODR10, mask: [10] }
    - !bitset {name: ODR11, mask: [11] }
    - !bitset {name: ODR12, mask: [12] }
    - !bitset {name: ODR13, mask: [13] }
    - !bitset {name: ODR14, mask: [14] }
    - !bitset {name: ODR15, mask: [15] }

- !register
  name: GPIO_BSRR
  comment: GPIO port bit set/reset register (GPIOx_BSRR) (x = A..F)
  bits:
    - !bitset {name: BS0,  mask: [0] }
    - !bitset {name: BS1,  mask: [1] }
    - !bitset {name: BS2,  mask: [2] }
    - !bitset {name: BS3,  mask: [3] }
    - !bitset {name: BS4,  mask: [4] }
    - !bitset {name: BS5,  mask: [5] }
    - !bitset {name: BS6,  mask: [6] }
    - !bitset {name: BS7,  mask: [7] }
    - !bitset {name: BS8,  mask: [8] }
    - !bitset {name: BS9,  mask: [9] }
    - !bitset {name: BS10, mask: [10] }
    - !bitset {name: BS11, mask: [11] }
    - !bitset {name: BS12, mask: [12] }
    - !bitset {name: BS13, mask: [13] }
    - !bitset {name: BS14, mask: [14] }
    - !bitset {name: BS15, mask: [15] }
    - !bitset {name: BR0,  mask: [16] }
    - !bitset {name: BR1,  mask: [17] }
    - !bitset {name: BR2,  mask: [18] }
    - !bitset {name: BR3,  mask: [19] }
    - !bitset {name: BR4,  mask: [20] }
    - !bitset {name: BR5,  mask: [21] }
    - !bitset {name: BR6,  mask: [22] }
    - !bitset {name: BR7,  mask: [23] }
    - !bitset {name: BR8,  mask: [24] }
    - !bitset {name: BR9,  mask: [25] }
    - !bitset {name: BR10, mask: [26] }
    - !bitset {name: BR11, mask: [27] }
    - !bitset {name: BR12, mask: [28] }
    - !bitset {name: BR13, mask: [29] }
    - !bitset {name: BR14, mask: [30] }
    - !bitset {name: BR15, mask: [31] }

- !register
  name: RCC_AHBENR
  comment: AHB peripheral clock enable register (RCC_AHBENR)
  bits:
  - !bitset {name: DMAEN,   mask: [0],  comment: DMA clock enable }
  - !bitset {name: DMA2EN,  mask: [1],  comment: DMA2 clock enable }
  - !bitset {name: SRAMEN,  mask: [2],  comment: SRAM interface clock enable }
  - !bitset {name: FLITFEN, mask: [4],  comment: FLITF clock enable }
  - !bitset {name: CRCEN,   mask: [6],  comment: CRC clock enable }
  - !bitset {name: IOPAEN,  mask: [17], comment: I/O port A clock enable }
  - !bitset {name: IOPBEN,  mask: [18], comment: I/O port B clock enable }
  - !bitset {name: IOPCEN,  mask: [19], comment: I/O port C clock enable }
  - !bitset {name: IOPDEN,  mask: [20], comment: I/O port D clock enable }
  - !bitset {name: IOPEEN,  mask: [21], comment: I/O port E clock enable }
  - !bitset {name: IOPFEN,  mask: [22], comment: I/O port F clock enable }
  - !bitset {name: TSCEN,   mask: [2],  comment: Touch sensing controller clock enable }

- !register
  name: RCC_AFRL
  comment: GPIO alternate function low register (GPIOx_AFRL) (x = A..F)
  bits:
  - !bitset {name: AFSEL0, mask: [3, 0] }
  - !bitset {name: AFSEL1, mask: [7, 4] }
  - !bitset {name: AFSEL2, mask: [11, 8] }
  - !bitset {name: AFSEL3, mask: [15, 12] }
  - !bitset {name: AFSEL4, mask: [19, 16] }
  - !bitset {name: AFSEL5, mask: [23, 20] }
  - !bitset {name: AFSEL6, mask: [27, 24] }
  - !bitset {name: AFSEL7, mask: [31, 28] }

- !register
  name: RCC_AFRH
  comment: GPIO alternate function high register (GPIOx_AFRH) (x = A..F)
  bits:
  - !bitset {name: AFSEL8,  mask: [3, 0] }
  - !bitset {name: AFSEL9,  mask: [7, 4] }
  - !bitset {name: AFSEL10, mask: [11, 8] }
  - !bitset {name: AFSEL11, mask: [15, 12] }
  - !bitset {name: AFSEL12, mask: [19, 16] }
  - !bitset {name: AFSEL13, mask: [23, 20] }
  - !bitset {name: AFSEL14, mask: [27, 24] }
  - !bitset {name: AFSEL15, mask: [31, 28] }

- !register
  name: RCC_CR
  comment: Clock control register (RCC_CR)
  bits:
  - !bitset {name: HSION,   mask: [0],     comment: HSI clock enable }
  - !bitset {name: HSIRDY,  mask: [1],     comment: HSI clock ready flag }
  - !bitset {name: HSITRIM, mask: [7, 3],  comment: HSI clock trimming }
  - !bitset {name: HSICAL,  mask: [15, 8], comment: HSI clock calibration }
  - !bitset {name: HSEON,   mask: [16],    comment: HSE clock enable }
  - !bitset {name: HSERDY,  mask: [17],    comment: HSE clock ready flag }
  - !bitset {name: HSEBYP,  mask: [18],    comment: HSE crystal oscillator bypass }
  - !bitset {name: CSSON,   mask: [19],    comment: Clock security system enable }
  - !bitset {name: PLLON,   mask: [24],    comment: PLL enable }
  - !bitset {name: PLLRDY,  mask: [25],    comment: PLL clock ready flag }

- !register
  name: RCC_CFGR
  comment: Clock configuration register (RCC_CFGR)
  bits:
  - !bitset {name: SW,       mask: [1, 0],   comment: PLL clock ready flag }
  - !bitset {name: SWS,      mask: [3, 2],   comment: System clock switch status }
  - !bitset {name: HPRE,     mask: [7, 4],   comment: HCLK prescaler }
  - !bitset {name: PPRE,     mask: [10, 8],  comment: PCLK prescaler }
  - !bitset {name: ADCPRE,   mask: [14],     comment: ADC prescaler }
  - !bitset {name: PLLSRC,   mask: [16, 15], comment: PLL input clock source }
  - !bitset {name: PLLXTPRE, mask: [17],     comment: HSE divider for PLL input clock }
  - !bitset {name: PLLMUL,   mask: [21, 18], comment: PLL multiplication factor }
  - !bitset {name: MCO,      mask: [27, 24], comment: Microcontroller clock output }
  - !bitset {name: MCOPRE,   mask: [30, 28], comment: Microcontroller Clock Output Prescaler (not available on STM32F05x devices) }
  - !bitset {name: PLLNODIV, mask: [31],     comment: PLL clock not divided for MCO (not available on STM32F05x devices) }

- !register
  name: RCC_CFGR2
  comment: Clock configuration register 2 (RCC_CFGR2)
  bits:
  - !bitset {name: PREDIV, mask: [3, 0], comment: PREDIV division factor }

- !register
  name: RCC_CFGR3
  comment: Clock configuration register 3 (RCC_CFGR)
  bits:
  - !bitset {name: USART3SW, mask: [19, 18], comment: USART3 clock source selection (available only on STM32F09x devices) }
  - !bitset {name: USART2SW, mask: [17, 16], comment: USART2 clock source selection (available only on STM32F07x and STM32F09x devices) }
  - !bitset {name: ADCSW,    mask: [8],      comment: ADC clock source selection }
  - !bitset {name: USBSW,    mask: [7],      comment: USB clock source selection }
  - !bitset {name: CECSW,    mask: [6],      comment: HDMI CEC clock source selection }
  - !bitset {name: I2C1SW,   mask: [4],      comment: I2C1 clock source selection }
  - !bitset {name: USART1SW, mask: [1, 0],   comment: USART1 clock source selection }

- !register
  name: RCC_APB2ENR
  comment: APB peripheral clock enable register 2 (RCC_APB2ENR)
  bits:
  - !bitset {name: DBGMCUEN,     mask: [22], comment: MCU debug module clock enable }
  - !bitset {name: TIM17EN,      mask: [18], comment: TIM17 timer clock enable }
  - !bitset {name: TIM16EN,      mask: [17], comment: TIM16 timer clock enable }
  - !bitset {name: TIM15EN,      mask: [16], comment: TIM15 timer clock enable }
  - !bitset {name: USART1EN,     mask: [14], comment: USART1 clock enable }
  - !bitset {name: SPI1EN,       mask: [12], comment: SPI1 clock enable }
  - !bitset {name: TIM1EN,       mask: [11], comment: TIM1 timer clock enable }
  - !bitset {name: ADCEN,        mask: [9],  comment: ADC interface clock enable }
  - !bitset {name: USART8EN,     mask: [7],  comment: USART8 clock enable }
  - !bitset {name: USART7EN,     mask: [6],  comment: USART7 clock enable }
  - !bitset {name: USART6EN,     mask: [5],  comment: USART6 clock enable }
  - !bitset {name: SYSCFGCOMPEN, mask: [0],  comment: SYSCFG & COMP clock enable }

- !register
  name: SYST_CSR
  comment: SysTick Control and Status Register
  bits:
  - !bitset {name: ENABLE,    mask: [0],  comment: Enables the counter }
  - !bitset {name: TICKINT,   mask: [1],  comment: Enables SysTick exception request }
  - !bitset {name: CLKSOURCE, mask: [2],  comment: Selects the SysTick timer clock source }
  - !bitset {name: COUNTFLAG, mask: [16], comment: Returns 1 if timer counted to 0 since the last read of this register }

- !register
  name: SYST_RVR
  comment: SysTick Reload Value Register
  bits:
  - !bitset {name: RELOAD, mask: [23, 0],  comment: Value to load into the SYST_CVR when the counter is enabled and when it reaches 0 }

- !register
  name: SYST_CVR
  comment: SysTick Current Value Register
  bits:
    - !bitset {name: CURRENT, mask: [23, 0], comment: The current value of the SysTick counter }

- !register
  name: SYST_CALIB
  comment: SysTick Calibration Value Register
  bits:
  - !bitset {name: TENMS, mask: [23, 0], comment: Reload value for 10ms (100Hz) timing }
  - !bitset {name: SKEW,  mask: [30],    comment: Indicates whether the TENMS value is exact }
  - !bitset {name: NOREF, mask: [31],    comment: Indicates whether the device provides a reference clock to the processor }

- !register
  name: USART_CR1
  comment: SysTick Calibration Value Register
  bits:
  - !bitset {name: M1,     mask: [28],     comment: Word length }
  - !bitset {name: EOBIE,  mask: [27],     comment: End of Block interrupt enable }
  - !bitset {name: RTOIE,  mask: [26],     comment: Receiver timeout interrupt enable }
  - !bitset {name: DEAT,   mask: [25, 21], comment: Driver Enable assertion time }
  - !bitset {name: DEDT,   mask: [20, 16], comment: Driver Enable de-assertion time }
  - !bitset {name: OVER8,  mask: [15],     comment: Oversampling mode }
  - !bitset {name: CMIE,   mask: [14],     comment: Character match interrupt enable }
  - !bitset {name: MME,    mask: [13],     comment: Mute mode enable }
  - !bitset {name: M0,     mask: [12],     comment: Word length }
  - !bitset {name: WAKE,   mask: [11],     comment: Receiver wakeup method }
  - !bitset {name: PCE,    mask: [10],     comment: Parity control enable }
  - !bitset {name: PS,     mask: [9],      comment: Parity selection }
  - !bitset {name: PEIE,   mask: [8],      comment: PE interrupt enable }
  - !bitset {name: TXEIE,  mask: [7],      comment: Interrupt enable }
  - !bitset {name: TCIE,   mask: [6],      comment: Transmission complete interrupt enable }
  - !bitset {name: RXNEIE, mask: [5],      comment: RXNE interrupt enable }
  - !bitset {name: IDLEIE, mask: [4],      comment: IDLE interrupt enable }
  - !bitset {name: TE,     mask: [3],      comment: Transmitter enable }
  - !bitset {name: RE,     mask: [2],      comment: Receiver enable }
  - !bitset {name: UESM,   mask: [1],      comment: USART enable in Stop mode }
  - !bitset {name: UE,     mask: [0],      comment: USART enable }

- !register
  name: USART_CR1
  comment: Control register 1 (USART_CR1)
  bits:
  - !bitset {name: M1,     mask: [28],     comment: Word length }
  - !bitset {name: EOBIE,  mask: [27],     comment: End of Block interrupt enable }
  - !bitset {name: RTOIE,  mask: [26],     comment: Receiver timeout interrupt enable }
  - !bitset {name: DEAT,   mask: [25, 21], comment: Driver Enable assertion time }
  - !bitset {name: DEDT,   mask: [20, 16], comment: Driver Enable de-assertion time }
  - !bitset {name: OVER8,  mask: [15],     comment: Oversampling mode }
  - !bitset {name: CMIE,   mask: [14],     comment: Character match interrupt enable }
  - !bitset {name: MME,    mask: [13],     comment: Mute mode enable }
  - !bitset {name: M0,     mask: [12],     comment: Word length }
  - !bitset {name: WAKE,   mask: [11],     comment: Receiver wakeup method }
  - !bitset {name: PCE,    mask: [10],     comment: Parity control enable }
  - !bitset {name: PS,     mask: [9],      comment: Parity selection }
  - !bitset {name: PEIE,   mask: [8],      comment: PE interrupt enable }
  - !bitset {name: TXEIE,  mask: [7],      comment: Interrupt enable }
  - !bitset {name: TCIE,   mask: [6],      comment: Transmission complete interrupt enable }
  - !bitset {name: RXNEIE, mask: [5],      comment: RXNE interrupt enable }
  - !bitset {name: IDLEIE, mask: [4],      comment: IDLE interrupt enable }
  - !bitset {name: TE,     mask: [3],      comment: Transmitter enable }
  - !bitset {name: RE,     mask: [2],      comment: Receiver enable }
  - !bitset {name: UESM,   mask: [1],      comment: USART enable in Stop mode }
  - !bitset {name: UE,     mask: [0],      comment: USART enable }

- !register
  name: USART_CR2
  comment: Control register 2 (USART_CR2)
  bits:
  - !bitset {name: ADDh,     mask: [31, 28], comment: Address of the USART node }
  - !bitset {name: ADDl,     mask: [27, 24], comment: Address of the USART node }
  - !bitset {name: RTOEN,    mask: [23],     comment: Receiver timeout enable }
  - !bitset {name: ABRMOD,   mask: [22, 21], comment: Auto baud rate mode }
  - !bitset {name: ABREN,    mask: [20],     comment: Auto baud rate enable }
  - !bitset {name: MSBFIRST, mask: [19],     comment: Most significant bit first }
  - !bitset {name: DATAINV,  mask: [18],     comment: Binary data inversion }
  - !bitset {name: TXINV,    mask: [17],     comment: TX pin active level inversion }
  - !bitset {name: RXINV,    mask: [16],     comment: RX pin active level inversion }
  - !bitset {name: SWAP,     mask: [15],     comment: Swap TX/RX pins }
  - !bitset {name: LINEN,    mask: [14],     comment: LIN mode enable }
  - !bitset {name: STOP,     mask: [13, 12], comment: STOP bits }
  - !bitset {name: CLKEN,    mask: [11],     comment: Clock enable }
  - !bitset {name: CPOL,     mask: [10],     comment: Clock polarity }
  - !bitset {name: CPHA,     mask: [9],      comment: Clock phase }
  - !bitset {name: LBCL,     mask: [8],      comment: Last bit clock pulse }
  - !bitset {name: LBDIE,    mask: [6],      comment: LIN break detection interrupt enable }
  - !bitset {name: LBDL,     mask: [5],      comment: LIN break detection length }
  - !bitset {name: ADDM7,    mask: [4],      comment: 7-bit Address Detection/4-bit Address Detection }

- !register
  name: USART_BRR
  comment: Baud rate register (USART_BRR)
  bits:
  - !bitset {name: BRR, mask: [15, 0] }

- !register
  name: USART_ISR
  comment: Interrupt and status register (USART_ISR)
  bits:
  - !bitset {name: REACK, mask: [22], comment: Receive enable acknowledge flag }
  - !bitset {name: TEACK, mask: [21], comment: Transmit enable acknowledge flag }
  - !bitset {name: WUF,   mask: [20], comment: Wakeup from Stop mode flag }
  - !bitset {name: RWU,   mask: [19], comment: Receiver wakeup from Mute mode }
  - !bitset {name: SBKF,  mask: [18], comment: Send break flag }
  - !bitset {name: CMF,   mask: [17], comment: Character match flag }
  - !bitset {name: BUSY,  mask: [16], comment: Busy flag }
  - !bitset {name: ABRF,  mask: [15], comment: Auto baud rate flag }
  - !bitset {name: ABRE,  mask: [14], comment: Auto baud rate error }
  - !bitset {name: EOBF,  mask: [12], comment: End of block flag }
  - !bitset {name: RTOF,  mask: [11], comment: Receiver timeout }
  - !bitset {name: CTS,   mask: [10], comment: CTS flag }
  - !bitset {name: CTSIF, mask: [9],  comment: CTS interrupt flag }
  - !bitset {name: LBDF,  mask: [8],  comment: LIN break detection flag }
  - !bitset {name: TXE,   mask: [7],  comment: Transmit data register empty }
  - !bitset {name: TC,    mask: [6],  comment: Transmission complete }
  - !bitset {name: RXNE,  mask: [5],  comment: Read data register not empty }
  - !bitset {name: IDLE,  mask: [4],  comment: Idle line detected }
  - !bitset {name: ORE,   mask: [3],  comment: Overrun error }
  - !bitset {name: NF,    mask: [2],  comment: START bit Noise detection flag }
  - !bitset {name: FE,    mask: [1],  comment: Framing error }
  - !bitset {name: PE,    mask: [0],  comment: Parity error }

- !register
  name: USART_RDR
  comment: Receive data register (USART_RDR)
  bits:
  - !bitset {name: RDR, mask: [8, 0] }

- !register
  name: USART_TDR
  comment: Transmit data register (USART_TDR)
  bits:
  - !bitset {name: TDR, mask: [8, 0] }
